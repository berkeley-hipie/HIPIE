version: '2.0'
comments:
  - A dataset specification consists of 4 fields, which fully describe the dataset in the scene-level and the part-level abstractions, and in semantic and instance information layers.
  - The specification refers to the dataset structure itself and does not induce any evaluation specification.
  - The fields `scene_class2part_classes` and `scene_classes_with_instance` are required. The fields `scene_class2color` and `countable_pids_groupings` are optional. The full description of the fields is given in DatasetSpec class and a short description is provided below.
name: PASCAL Panoptic Parts

# TODO(panos): move extensive documentation to specific README, keep only general documentation here.

# scene_class2part_classes: An ordered mapping from scene-level class to part-level classes.
# The mapping defines implicitly (by the order of elements) their 1-based continuous ids, e.g.
# "aeroplane": sid = 1, "aeroplane body": pid = 1. The 0 id is reserved for the "unlabeled" class,
# which represents unlabeled/void/background/do-not-care pixels, and is omitted for both scene-level
# and part-level classes, i.e. "UNLABELED": sid = 0, "aeroplane UNLABELED": pid = 0. It is expected that
# the scene-level sids induced by the ordering correspond as-is to the sids in the annotations (ground truth
# tiff files). The part-level pids induced by the ordering correspond to the pids in the
# annotations after being folded using the countable_pids_groupings mapping.
scene_class2part_classes: {
  aeroplane: [body, stern, lwing, rwing, tail, engine, wheel],
  bicycle: [fwheel, bwheel, saddle, handlebar, chainwheel, headlight],
  bird: [head, leye, reye, beak, torso, neck, lwing, rwing, lleg, lfoot, rleg, rfoot, tail],
  boat: [],
  bottle: [cap, body],
  bus: [frontside, leftside, rightside, backside, roofside, leftmirror, rightmirror, fliplate, bliplate, door, wheel, headlight, window],
  car: [frontside, leftside, rightside, backside, roofside, leftmirror, rightmirror, fliplate, bliplate, door, wheel, headlight, window],
  cat: [head, leye, reye, lear, rear, nose, torso, neck, lfleg, lfpa, rfleg, rfpa, lbleg, lbpa, rbleg, rbpa, tail],
  chair: [],
  cow: [head, leye, reye, lear, rear, muzzle, lhorn, rhorn, torso, neck, lfuleg, lflleg, rfuleg, rflleg, lbuleg, lblleg, rbuleg, rblleg, tail],
  table: [],
  dog: [head, leye, reye, lear, rear, nose, torso, neck, lfleg, lfpa, rfleg, rfpa, lbleg, lbpa, rbleg, rbpa, tail, muzzle],
  horse: [head, leye, reye, lear, rear, muzzle, lfho, rfho, lbho, rbho, torso, neck, lfuleg, lflleg, rfuleg, rflleg, lbuleg, lblleg, rbuleg, rblleg, tail],
  motorbike: [fwheel, bwheel, handlebar, saddle, headlight],
  person: [head, leye, reye, lear, rear, lebrow, rebrow, nose, mouth, hair, torso, neck, llarm, luarm, lhand, rlarm, ruarm, rhand, llleg, luleg, lfoot, rlleg, ruleg, rfoot],
  pottedplant: [pot, plant],
  sheep: [head, leye, reye, lear, rear, muzzle, lhorn, rhorn, torso, neck, lfuleg, lflleg, rfuleg, rflleg, lbuleg, lblleg, rbuleg, rblleg, tail],
  sofa: [],
  train: [head, hfrontside, hleftside, hrightside, hbackside, hroofside, headlight, coach, cfrontside, cleftside, crightside, cbackside, croofside],
  tvmonitor: [screen, frame],
  bag: [],
  basket: [],
  bed: [],
  bedclothes: [],
  bench: [],
  bird cage: [],
  board: [],
  book: [],
  bowl: [],
  box: [],
  bridge: [],
  brush: [],
  bucket: [],
  building: [],
  cabinet: [],
  cage: [],
  case: [],
  ceiling: [],
  cloth: [],
  computer: [],
  counter: [],
  cup: [],
  curtain: [],
  cushion: [],
  door: [],
  fence: [],
  fire place: [],
  floor: [],
  flower: [],
  food: [],
  fridge: [],
  grandstand: [],
  grass: [],
  ground: [],
  horse-drawn carriage: [],
  keyboard: [],
  laptop: [],
  light: [],
  mat: [],
  metal: [],
  mirror: [],
  mountain: [],
  mouse: [],
  pack: [],
  paper: [],
  picture: [],
  pillow: [],
  plant: [],
  plate: [],
  platform: [],
  pole: [],
  poster: [],
  pot: [],
  road: [],
  rock: [],
  rope: [],
  rug: [],
  sand: [],
  sculpture: [],
  shelves: [],
  sidewalk: [],
  sign: [],
  sink: [],
  sky: [],
  smoke: [],
  snow: [],
  speaker: [],
  stage: [],
  stair: [],
  tent: [],
  toy: [],
  track: [],
  tree: [],
  truck: [],
  wall: [],
  water: [],
  window: [],
  wineglass: [],
  wood: [],
}


# This is the L^things subset, i.e. the scene-level classes that have instance-wise annotations.
scene_classes_with_instances: [
  aeroplane, bicycle, bird, boat, bottle, bus, car, cat, chair, cow, table, dog, horse, motorbike, person, pottedplant, sheep, sofa, train, tvmonitor]


# PPP contains instance-wise information for the part-level abstraction for a selection of classes.
# This is stored in the annotations using different ids for the same part-level semantic class,
# e.g. "aeroplace engine" has 10 ids meaning that an image can have up to 10 different unique engine parts,
# which can belong to multiple aeroplanes. The Part-aware Panoptic Segmentation problem does not require this
# information layer for the part-level abstraction, thus the following mappings from the part-level
# semantic class to the instance-wise pids can be used to remove the instance information layer
# from the part-level abstraction. The function `decode_uids` can be used to decode the GT uids to get pids
# according to scene_class2part_classes. This function maps all countable pids for a part class in GT files
# to the corresponding pid from scene_class2part_classes,
# e.g. aeroplane: {6, 7, ..., 14, 15} -> 6, {16, 17, ..., 24, 25} -> 7.
countable_pids_groupings: {
  aeroplane: {
    engine: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
    wheel: [16, 17, 18, 19, 20, 21, 22, 23, 24, 25],
  },
  bus: {
    door: [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],
    wheel: [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],
    headlight: [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],
    window: [40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59],
  },
  car: {
    door: [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],
    wheel: [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],
    headlight: [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],
    window: [40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59],
  },
  motorbike: {
    headlight: [5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
  },
  train: {
    headlight: [7, 8, 9, 10, 11, 12, 13, 14, 15, 16],
    coach: [17, 18, 19, 20, 21, 22, 23, 24, 25, 26],
    cfrontside: [27, 28, 29, 30, 31, 32, 33, 34, 35, 36],
    cleftside: [37, 38, 39, 40, 41, 42, 43, 44, 45, 46],
    crightside: [47, 48, 49, 50, 51, 52, 53, 54, 55, 56],
    cbackside: [57, 58, 59, 60, 61, 62, 63, 64, 65, 66],
    croofside: [67, 68, 69, 70, 71, 72, 73, 74, 75, 76],
  },
}


scene_class2color: {
  aeroplane: [128, 0, 0],
  bicycle: [0, 128, 0],
  bird: [128, 128, 0],
  boat: [0, 0, 128],
  bottle: [128, 0, 128],
  bus: [0, 128, 128],
  car: [128, 128, 128],
  cat: [64, 0, 0],
  chair: [192, 0, 0],
  cow: [64, 128, 0],
  table: [192, 128, 0],
  dog: [64, 0, 128],
  horse: [192, 0, 128],
  motorbike: [64, 128, 128],
  person: [192, 128, 128],
  pottedplant: [0, 64, 0],
  sheep: [128, 64, 0],
  sofa: [0, 192, 0],
  train: [128, 192, 0],
  tvmonitor: [0, 64, 128],
  bag: [128, 64, 128],
  basket: [0, 192, 128],
  bed: [128, 192, 128],
  bedclothes: [64, 64, 0],
  bench: [192, 64, 0],
  bird cage: [64, 192, 0],
  board: [192, 192, 0],
  book: [64, 64, 128],
  bowl: [192, 64, 128],
  box: [64, 192, 128],
  bridge: [192, 192, 128],
  brush: [0, 0, 64],
  bucket: [128, 0, 64],
  building: [0, 128, 64],
  cabinet: [128, 128, 64],
  cage: [0, 0, 192],
  case: [128, 0, 192],
  ceiling: [0, 128, 192],
  cloth: [128, 128, 192],
  computer: [64, 0, 64],
  counter: [192, 0, 64],
  cup: [64, 128, 64],
  curtain: [192, 128, 64],
  cushion: [64, 0, 192],
  door: [192, 0, 192],
  fence: [64, 128, 192],
  fire place: [192, 128, 192],
  floor: [0, 64, 64],
  flower: [128, 64, 64],
  food: [0, 192, 64],
  fridge: [128, 192, 64],
  grandstand: [0, 64, 192],
  grass: [128, 64, 192],
  ground: [0, 192, 192],
  horse-drawn carriage: [128, 192, 192],
  keyboard: [64, 64, 64],
  laptop: [192, 64, 64],
  light: [64, 192, 64],
  mat: [192, 192, 64],
  metal: [64, 64, 192],
  mirror: [192, 64, 192],
  mountain: [64, 192, 192],
  mouse: [192, 192, 192],
  pack: [32, 0, 0],
  paper: [160, 0, 0],
  picture: [32, 128, 0],
  pillow: [160, 128, 0],
  plant: [32, 0, 128],
  plate: [160, 0, 128],
  platform: [32, 128, 128],
  pole: [160, 128, 128],
  poster: [96, 0, 0],
  pot: [224, 0, 0],
  road: [96, 128, 0],
  rock: [224, 128, 0],
  rope: [96, 0, 128],
  rug: [224, 0, 128],
  sand: [96, 128, 128],
  sculpture: [224, 128, 128],
  shelves: [32, 64, 0],
  sidewalk: [160, 64, 0],
  sign: [32, 192, 0],
  sink: [160, 192, 0],
  sky: [32, 64, 128],
  smoke: [160, 64, 128],
  snow: [32, 192, 128],
  speaker: [160, 192, 128],
  stage: [96, 64, 0],
  stair: [224, 64, 0],
  tent: [96, 192, 0],
  toy: [224, 192, 0],
  track: [96, 64, 128],
  tree: [224, 64, 128],
  truck: [96, 192, 128],
  wall: [224, 192, 128],
  water: [32, 0, 64],
  window: [160, 0, 64],
  wineglass: [32, 128, 64],
  wood: [160, 128, 64],
}


#l_things: [aeroplane, bicycle, bird, boat, bottle, bus, car, cat, chair, cow, table, dog, horse, motorbike, person, pottedplant, sheep, sofa, train, tvmonitor]

#l_stuff: [bag, basket, bed, bedclothes, bench, bird cage, board, book, bowl, box, bridge, brush, bucket, building, cabinet, cage, case, ceiling, cloth, computer, counter, cup, curtain, cushion, door, fence, fire place, floor, flower, food, fridge, grandstand, grass, ground, horse-drawn carriage, keyboard, laptop, light, mat, metal, mirror, mountain, mouse, pack, paper, picture, pillow, plant, plate, platform, pole, poster, pot, road, rock, rope, rug, sand, sculpture, shelves, sidewalk, sign, sink, sky, smoke, snow, speaker, stage, stair, tent, toy, track, tree, truck, wall, water, window, wineglass, wood]

#l_parts: [aeroplane, bicycle, bird, bottle, bus, car, cat, cow, dog, horse, motorbike, person, pottedplant, sheep, train, tvmonitor]

#l_noparts: [boat, chair, table, sofa, bag, basket, bed, bedclothes, bench, bird cage, board, book, bowl, box, bridge, brush, bucket, building, cabinet, cage, case, ceiling, cloth, computer, counter, cup, curtain, cushion, door, fence, fire place, floor, flower, food, fridge, grandstand, grass, ground, horse-drawn carriage, keyboard, laptop, light, mat, metal, mirror, mountain, mouse, pack, paper, picture, pillow, plant, plate, platform, pole, poster, pot, road, rock, rope, rug, sand, sculpture, shelves, sidewalk, sign, sink, sky, smoke, snow, speaker, stage, stair, tent, toy, track, tree, truck, wall, water, window, wineglass, wood]